(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{174:function(e,n,t){},175:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(43),c=t.n(l),o=(t(89),t(3)),u=t(4),i=Object(a.createContext)();function d(e){var n=e.reducer,t=e.initialState,l=void 0===t?{}:t,c=e.children,o=Object(a.useReducer)(n,l);return r.a.createElement(i.Provider,{value:o,children:c})}var s=t(62),f=t(6),m=t.n(f),p=t(10),h=t(16),b=t.n(h);t(168),t(169);b.a.initializeApp({apiKey:"AIzaSyCvxmJXWdOQsBw6QkcH7MTghBk8YjBNnHo",authDomain:"track-my-goals.firebaseapp.com",databaseURL:"https://track-my-goals.firebaseio.com",projectId:"track-my-goals",storageBucket:"track-my-goals.appspot.com",messagingSenderId:"1045953614271"});var v=b.a.firestore();function g(){return(g=Object(p.a)(m.a.mark(function e(n,t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.collection("goals").where("goal","==",t).where("uid","==",n).get().then(function(e){e.docs.forEach(function(e){e.ref.delete()})});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(){return(E=Object(p.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.collection("goals").add({uid:n.uid,goal:n.goal,datesCompleted:[]}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e,n,t){return O.apply(this,arguments)}function O(){return(O=Object(p.a)(m.a.mark(function e(n,t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("addCompletedDay",a),e.abrupt("return",v.collection("daysCompleted-".concat(n)).add({goal:t,date:a}));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e,n,t){return w.apply(this,arguments)}function w(){return(w=Object(p.a)(m.a.mark(function e(n,t,a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v.collection("daysCompleted-".concat(n)).where("goal","==",t).where("date","==",a).get().then(function(e){e.docs.forEach(function(e){e.ref.delete()})});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return k.apply(this,arguments)}function k(){return(k=Object(p.a)(m.a.mark(function e(n){var t,a,r,l;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,a=n.password,e.prev=1,e.next=4,Object(h.auth)().createUserWithEmailAndPassword(t,a);case 4:return r=e.sent,l=r.user,e.next=8,v.doc("users/".concat(l.uid)).set({uid:l.uid});case 8:e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function S(){return Object(h.auth)().signOut()}var D={authAttempted:!1,auth:null,user:null,goals:["Workout","Meditate","Eat Healthy"],selectedGoal:0,selectedDays:{workout:[]}},C=function(e,n){switch(n.type){case"AUTH_CHANGE":return Object(s.a)({},e,{auth:n.auth,authAttempted:!0});case"LOAD_USER":return Object(s.a)({},e,{user:n.user});default:return e}},A=t(18),N=t(5),H=t(28);function G(e){var n=e.children;return r.a.createElement("button",{className:"TabsButton icon_button cta",type:"submit"},n)}var R=t(44);function U(e){var n=e.id,t=e.label,l=e.type,c=void 0===l?"text":l;return r.a.createElement(a.Fragment,null,r.a.createElement(H.a,null,r.a.createElement("label",{htmlFor:n},t)),r.a.createElement("input",{id:n,placeholder:t,type:c,required:!0}))}function J(){var e=Object(a.useState)(null),n=Object(N.a)(e,2),t=n[0],l=n[1],c=Object(a.useState)(!1),o=Object(N.a)(c,2),u=o[0],i=o[1],d=function(){var e=Object(p.a)(m.a.mark(function e(n){var t,a,r;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i(!0),t=Object(N.a)(n.target.elements,2),a=t[0],r=t[1],e.prev=3,e.next=6,x({email:a.value,password:r.value});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),i(!1),l(e.t0);case 12:case"end":return e.stop()}},e,null,[[3,8]])}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,t&&r.a.createElement("div",null,r.a.createElement("p",null,"Oops, there was an error logging you in."),r.a.createElement("p",null,r.a.createElement("i",null,t.message))),r.a.createElement("form",{onSubmit:d},r.a.createElement(U,{id:"email",label:"Email"}),r.a.createElement(U,{id:"password",label:"Password"}),r.a.createElement(G,null,r.a.createElement(R.a,null),r.a.createElement("span",null,u?"Loading...":"Sign Up"))))}function T(){var e=Object(a.useState)(null),n=Object(N.a)(e,2),t=n[0],l=n[1],c=Object(a.useState)(!1),o=Object(N.a)(c,2),u=o[0],i=o[1],d=Object(a.useState)(!1),s=Object(N.a)(d,2),f=s[0],b=s[1],v=Object(a.useRef)(),g=Object(a.useRef)(),E=function(){var e=Object(p.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),i(!0),e.prev=2,e.next=5,t=v.current.value,a=g.current.value,Object(h.auth)().signInWithEmailAndPassword(t,a);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),i(!1),l(e.t0);case 11:case"end":return e.stop()}var t,a},e,null,[[2,7]])}));return function(n){return e.apply(this,arguments)}}();return r.a.createElement("div",null,t&&r.a.createElement("div",null,r.a.createElement("p",null,"Oops, there was an error logging you in."),r.a.createElement("p",null,r.a.createElement("i",null,t.message))),r.a.createElement("form",{onSubmit:E},r.a.createElement(H.a,null,r.a.createElement("label",{htmlFor:"login:email"},"Email:")),r.a.createElement("input",{ref:v,id:"login:email",className:"inputField",placeholder:"you@example.com",type:"text"}),r.a.createElement(H.a,null,r.a.createElement("label",{htmlFor:"login:password"},"Password:")),r.a.createElement("input",{ref:g,id:"login:password",type:f?"text":"password",className:"inputField",placeholder:"Password"}),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{className:"passwordCheckbox",type:"checkbox",onChange:function(e){b(e.target.checked)},defaultChecked:f})," ","show password")),r.a.createElement(G,null,r.a.createElement(R.b,null),r.a.createElement("span",null,u?"Loading...":"Login"))))}function L(){return r.a.createElement("div",{className:"LoggedOut"},r.a.createElement(A.e,null,r.a.createElement(A.b,null,r.a.createElement(A.a,null,"Login"),r.a.createElement(A.a,null,"Sign Up")),r.a.createElement(A.d,null,r.a.createElement(A.c,null,r.a.createElement(T,null)),r.a.createElement(A.c,null,r.a.createElement(J,null)))))}var W=t(45);function z(){var e=Object(a.useContext)(i),n=Object(N.a)(e,2),t=n[0],r=t.authAttempted,l=t.auth,c=n[1];return Object(a.useEffect)(function(){if(!r)return e=function(e){if(e){var n=e.uid;c({type:"AUTH_CHANGE",auth:{uid:n}})}else c({type:"AUTH_CHANGE",auth:null})},void Object(h.auth)().onAuthStateChanged(e);var e},[r,c]),{authAttempted:r,auth:l}}function B(){var e=Object(o.a)(["\n  border-left: thick solid #ff0000;\n"]);return B=function(){return e},e}function F(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between\n  vertical-align: middle;\n  line-height: 2.5rem;\n  height: 2.5rem;\n  width: 19rem;\n  border-radius: 0.3rem;\n  margin-top: 2rem;\n  background-color: ",";\n  color: ",';\n  padding-left: 0.5rem;\n  margin-left: 1.2rem;\n  font-family: "Helvetica", "Arial", sans-serif;\n\n  &:hover {\n    background-color: ',";\n  }\n"]);return F=function(){return e},e}function I(){var e=Object(o.a)(["\n  background-color: rgba(0, 0, 0, 0);\n  border: none;\n"]);return I=function(){return e},e}function M(){var e=Object(o.a)(["\n  height: 3rem;\n  width: 16rem;\n  color: black;\n  background: #d8d8d8;\n  border: none;\n  font-size: 1em;\n\n  padding-left: 0.5rem;\n  border-radius: 0.3rem 0 0 0.3rem;\n"]);return M=function(){return e},e}function P(){var e=Object(o.a)(["\n  background-color: #227c20;\n  display: inline-block;\n  color: #faf8f8;\n  font-size: 1em;\n  padding: 1rem;\n  border: none;\n  font-weight: bold;\n  border-radius: 0 0.3rem 0.3rem 0;\n"]);return P=function(){return e},e}function _(){var e=Object(o.a)(["\n  height: 27rem;\n  overflow-y: scroll;\n"]);return _=function(){return e},e}function Q(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return Q=function(){return e},e}function X(){var e=Object(o.a)(["\n  color: white;\n  font-size: 2rem;\n  margin-top: 1rem;\n  margin-bottom: 4rem;\n  padding-right: 10rem;\n  font-family: Helvetica;\n"]);return X=function(){return e},e}function q(){var e=Object(o.a)(["\n  // display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  background-color: #0d160a;\n  font-family: Helvetica;\n  position: absolute;\n  height: 100%;\n"]);return q=function(){return e},e}function K(e){var n=e.existingGoals,t=e.selected,l=e.handleSelected,c=z().auth,o=Object(a.useState)(""),u=Object(N.a)(o,2),i=u[0],d=u[1],s=Object(a.useState)(n),f=Object(N.a)(s,2),m=f[0],p=f[1];return Object(a.useEffect)(function(){p(n)},[n]),r.a.createElement(Y,null,r.a.createElement($,null,"Habit Tracker"),r.a.createElement(V,null,r.a.createElement(ne,{type:"text",placeholder:"Enter your next habit",onChange:function(e){return d(e.target.value)}}),r.a.createElement(ee,{onClick:function(){i.length>0&&!m.includes(i)&&(!function(e){E.apply(this,arguments)}({uid:c.uid,goal:i}),d(""),p([i].concat(Object(W.a)(m))))}},"ADD")),r.a.createElement(Z,null,m?m.map(function(e,n){return r.a.createElement(ae,{style:m[n+1]?null:{borderWidth:"5px"},selected:e===t,onClick:function(){l(e)}}," ",e,r.a.createElement(te,{onClick:function(){!function(e,n){g.apply(this,arguments)}(c.uid,e),p(m.filter(function(n){return n!==e}))}}," ","X"," "))}):null))}var Y=u.a.div(q()),$=u.a.div(X()),V=u.a.div(Q()),Z=u.a.div(_()),ee=u.a.button(P()),ne=u.a.input(M()),te=u.a.button(I()),ae=u.a.div(F(),function(e){return e.selected?"#227c20":"#D8D8D8"},function(e){return e.selected?"#D8D8D8":"black"},function(e){return e.selected?"#227c20":"#8BCC91"});u.a.div(B());function re(){var e=Object(o.a)(["\n  display: inline-block;\n  height: 6rem;\n  width: 6rem;\n  -webkit-text-fill-color: ",";\n  color: ",";\n  font-size: 1em;\n  margin: 0.4375rem;\n  border: "," \n  border-radius: 3px;\n  background-color: ",";\n  text-align: right;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  // old green color = #99E897\n"]);return re=function(){return e},e}function le(e){e.completedDays;var n=e.curGoal,t=e.day,l=e.month,c=e.year,o=e.handleDayCompleted,u=e.handleDayRemoved,i=e.isCompleted,d=e.disabled,s=Object(a.useState)(i),f=Object(N.a)(s,2),m=f[0],p=f[1];return Object(a.useEffect)(function(){p(i)},[n]),Object(a.useEffect)(function(){p(!1),p(i)},[i]),r.a.createElement(ce,{completed:m,disabled:d,onClick:function(){if(!d){p(!m);var e=l.toString().padStart(2,"0")+"-"+t.toString().padStart(2,"0")+"-"+c.toString();m?u(e):o(e)}}},d?"0":t)}var ce=u.a.button(re(),function(e){return e.disabled?"transparent":"none"},function(e){return e.completed?"white":"black"},function(e){return e.disabled?"2px solid #f1f1f1;":"2px solid #5cc7ff"},function(e){return e.disabled?"#f1f1f1":e.completed?"#99E897":"#D8D8D8"},function(e){return e.disabled?"#f1f1f1":e.completed?"#227c20":"#c2c2c2"});function oe(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-left: 1em;\n  justify-content: center;\n  margin-left: 22rem;\n"]);return oe=function(){return e},e}function ue(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  // margin-left: 30rem;\n  justify-content: center;\n  margin-left: 22rem;\n"]);return ue=function(){return e},e}function ie(){var e=Object(o.a)(["\n  margin-right: 2rem;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 1.5rem 3rem 1.5rem 0;\n  border-color: transparent #0d160a transparent transparent;\n"]);return ie=function(){return e},e}function de(){var e=Object(o.a)(["\n  margin-left: 2rem;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 1.5rem 0 1.5rem 3rem;\n  border-color: transparent transparent transparent #0d160a;\n"]);return de=function(){return e},e}function se(){var e=Object(o.a)(["\n  font-size: 3rem;\n  color: #0d160a;\n"]);return se=function(){return e},e}function fe(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 742px;\n"]);return fe=function(){return e},e}function me(e){var n=e.curGoal,t=e.completedDaysMap,l=e.handleDayCompleted,c=e.handleDayRemoved,o=(z().auth,Object(a.useState)(function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}())),u=Object(N.a)(o,2),i=(u[0],u[1],Object(a.useState)({})),d=Object(N.a)(i,2),s=d[0],f=d[1],m=Object(a.useState)(null),p=Object(N.a)(m,2),h=p[0],b=p[1];Object(a.useEffect)(function(){console.log("calendar re-render")}),Object(a.useEffect)(function(){var e=new Date;b(e.getMonth()+1)},[]),Object(a.useEffect)(function(){f(t)},[t]);var v={"01":31,"02":28,"03":31,"04":30,"05":31,"06":30,"07":31,"08":31,"09":30,10:31,11:30,12:31};function g(e,t){var a=[[]],o=1,u=[],i=e.toString().padStart(2,"0")+"-01-2019";i=new Date(i).getDay();for(var d=0;d<i;d++)u.push(r.a.createElement(le,{completedDays:null,day:null,month:null,year:null,handleDayCompleted:null,handleDayRemoved:null,isCompleted:!1,curGoal:n,disabled:!0}));o=i+1;for(var s=1;s<=v[e];s++){var f=e.toString().padStart(2,"0")+"-"+s.toString().toString().padStart(2,"0")+"-2019";8===o&&(a.push(u),o=1,u=[]),u.push(r.a.createElement(le,{completedDays:t[n],curGoal:n,day:s,month:parseInt(e),year:2019,handleDayCompleted:l,handleDayRemoved:c,isCompleted:!!t[n]&&t[n].indexOf(f)>-1,disabled:!1})),o+=1}for(var m=0;m<8-o;m++)u.push(r.a.createElement(le,{completedDays:null,day:null,month:null,year:null,handleDayCompleted:null,handleDayRemoved:null,isCompleted:!1,curGoal:n,disabled:!0}));if(a.push(u),u=[],console.log("LENGTH: ",a.length),6===a.length){for(var p=0;p<7;p++)u.push(r.a.createElement(le,{completedDays:null,day:null,month:null,year:null,handleDayCompleted:null,handleDayRemoved:null,isCompleted:!1,curGoal:n,disabled:!0}));a.push(u)}return a}var E=function(e){for(var n={},t=1;t<=12;t++){var a=t.toString(),r=g(a=1===a.length?"0"+a:a,e);n[t]=r}return n}(s);return r.a.createElement("div",null,r.a.createElement(ge,null,r.a.createElement(pe,null,r.a.createElement("div",null,"SUN"),r.a.createElement("div",null,"MON"),r.a.createElement("div",null,"TUE"),r.a.createElement("div",null,"WED"),r.a.createElement("div",null,"THU"),r.a.createElement("div",null,"FRI"),r.a.createElement("div",null,"SAT")),E[h]?E[h].map(function(e){return r.a.createElement("div",null,e)}):null),r.a.createElement(Ee,null,r.a.createElement(ve,{onClick:function(){b(1!==h?h-1:h)}}),r.a.createElement(he,null,{1:"Jan",2:"Feb",3:"mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sept",10:"Oct",11:"Nov",12:"Dec"}[h]+" 2019"),r.a.createElement(be,{onClick:function(){b(12!==h?h+1:h)}})))}var pe=u.a.div(fe()),he=u.a.div(se()),be=u.a.button(de()),ve=u.a.button(ie()),ge=u.a.div(ue()),Ee=u.a.div(oe());function ye(){var e=Object(o.a)(["\n  display: inline-block;\n\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid;\n  border-radius: 3px;\n  display: inline-block;\n  background-color: #cbc9c9;\n  border-radius: 0.3rem;\n\n  &:hover {\n    background-color: #bcb9b9;\n  }\n"]);return ye=function(){return e},e}function Oe(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  height: 70px;\n  background-color: #d8d8d8;\n  margin-bottom: 1rem;\n"]);return Oe=function(){return e},e}function je(){return r.a.createElement(we,null,r.a.createElement(xe,{onClick:S},"Logout"))}var we=u.a.div(Oe()),xe=u.a.button(ye());function ke(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n"]);return ke=function(){return e},e}function Se(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  height: 100%;\n"]);return Se=function(){return e},e}function De(){var e=z().auth,n=Object(a.useState)([]),t=Object(N.a)(n,2),l=t[0],c=t[1],o=Object(a.useState)("asdfasd"),u=Object(N.a)(o,2),i=u[0],d=u[1],s=Object(a.useState)({}),f=Object(N.a)(s,2),h=f[0],b=f[1],g=Object(a.useState)({}),E=Object(N.a)(g,2),O=E[0],w=E[1];function x(){return(x=Object(p.a)(m.a.mark(function e(n){var t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=O)[i]=O[i]?[].concat(Object(W.a)(O[i]),[n]):[n],e.next=4,w(t);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function k(e){return S.apply(this,arguments)}function S(){return(S=Object(p.a)(m.a.mark(function n(t){return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:console.log("batchUpdateCompletedDays"),console.log(h[t]),console.log(O[t]),O[t]&&(h[t]?(O[t].forEach(function(n){h[t].includes(n)||y(e.uid,t,n)}),h[t].forEach(function(n){O[t].includes(n)||j(e.uid,t,n)})):(O[t].forEach(function(n){y(e.uid,t,n)}),b(JSON.parse(JSON.stringify(O)))));case 4:case"end":return n.stop()}},n)}))).apply(this,arguments)}return Object(a.useEffect)(function(){v.collection("goals").where("uid","==",e.uid).get().then(function(e){var n=[];e.docs.forEach(function(e){n.push(e.data().goal)}),d(n[0]),c(n)}),console.log("fetchCompletedDays"),v.collection("daysCompleted-".concat(e.uid)).get().then(function(e){var n=[];e.docs.forEach(function(e){var t=e.data().goal,a=e.data().date;n.push({goal:t,date:a})});var t={};n.forEach(function(e){e.goal in t?t[e.goal].push(e.date):t[e.goal]=[e.date]}),b(JSON.parse(JSON.stringify(t))),w(t)})},[]),Object(a.useEffect)(function(){return function(){k(i)}},[]),r.a.createElement(Ce,null,r.a.createElement(K,{existingGoals:l,selected:i,handleSelected:function(e){console.log("updateSelected"),k(i),d(e)}}),r.a.createElement(Ae,null,r.a.createElement(je,null),r.a.createElement(me,{curGoal:i,completedDaysMap:O,handleDayCompleted:function(e){return x.apply(this,arguments)},handleDayRemoved:function(e){var n=O;n[i]=n[i].filter(function(n){return n!==e}),w(n)}})))}var Ce=u.a.div(Se()),Ae=u.a.div(ke());function Ne(){var e=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]);return Ne=function(){return e},e}function He(){var e=z(),n=e.authAttempted,t=e.auth;return n?r.a.createElement("div",null,t?r.a.createElement(Ge,null,r.a.createElement(De,null)):r.a.createElement(L,null)):null}var Ge=u.a.div(Ne());t(174),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(function(){return r.a.createElement(d,{reducer:C,initialState:D},r.a.createElement(He,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},84:function(e,n,t){e.exports=t(175)},89:function(e,n,t){}},[[84,1,2]]]);
//# sourceMappingURL=main.9a1935ae.chunk.js.map