{"version":3,"sources":["app-state.js","fire.js","utils.js","appReducer.js","TabsButton.js","Signup.js","Login.js","LoggedOut.js","useAuth.js","GoalList.tsx","Day.tsx","Calendar.tsx","HeaderBar.tsx","LoggedIn.tsx","App.js","serviceWorker.js","index.js"],"names":["Context","createContext","AppStateProvider","_ref","reducer","_ref$initialState","initialState","children","value","useReducer","react_default","a","createElement","Provider","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firestore","_callee","uid","goal","regenerator_default","wrap","_context","prev","next","collection","where","get","then","snapshot","docs","forEach","doc","ref","delete","stop","_callee2","goalData","_context2","abrupt","add","datesCompleted","addCompletedDay","_x4","_x5","_x6","_addCompletedDay","apply","this","arguments","_callee3","date","_context3","console","log","concat","removeCompletedDay","_x7","_x8","_x9","_removeCompletedDay","_callee4","_context4","signup","_x10","_signup","_callee5","email","password","_ref2","user","_context5","auth","createUserWithEmailAndPassword","sent","set","t0","logout","signOut","authAttempted","goals","selectedGoal","selectedDays","workout","appStateReducer","state","action","type","Object","objectSpread","TabsButton","className","TextInput","id","label","_ref$type","react","visually_hidden_es","htmlFor","placeholder","required","SignupForm","_useState","useState","_useState2","slicedToArray","error","setError","_useState3","_useState4","loading","setLoading","handleSignup","asyncToGenerator","mark","event","_event$target$element","preventDefault","target","elements","_x","message","onSubmit","fa_index_esm","LoginForm","_useState5","_useState6","showPassword","setShowPassword","emailRef","useRef","passwordRef","handleLogin","current","signInWithEmailAndPassword","onChange","checked","defaultChecked","LoggedOut","es","useAuth","_useAppState","useContext","_useAppState2","_useAppState2$","dispatch","useEffect","callback","onAuthStateChanged","GoalsList","existingGoals","selected","handleSelected","newGoal","setNewGoal","setGoals","GoalContainer","AppTitle","InputContainer","GoalInput","e","AddGoalButton","onClick","length","includes","_x3","_createGoal","createGoal","toConsumableArray","ListContainer","map","idx","ListRow","style","borderWidth","DeleteButton","_x2","_deleteGoal","deleteGoal","filter","g","styled","div","_templateObject","_templateObject2","_templateObject3","_templateObject4","button","_templateObject5","input","_templateObject6","_templateObject7","_templateObject8","props","_templateObject9","Day","completedDays","curGoal","day","month","year","handleDayCompleted","handleDayRemoved","isCompleted","disabled","completed","setCompleted","Button","toString","padStart","Day_templateObject","Calendar","completedDaysMap","_window","window","width","innerWidth","height","innerHeight","getWindowDimensions","setCompletedDays","curMonth","setCurMonth","today","Date","getMonth","monthDays","01","02","03","04","05","06","07","08","09","10","11","12","myMonth","dayOfWeek","week","firstOfMonth","getDay","unusedDay","push","i","daysPerRow","parseInt","indexOf","calendarYear","monthNum","getYear","Container","DaysOfWeek","MonthInfoContainer","PrevMonth","Month","1","2","3","4","5","6","7","8","9","NextMonth","Calendar_templateObject","Calendar_templateObject2","Calendar_templateObject3","Calendar_templateObject4","Calendar_templateObject5","Calendar_templateObject6","HeaderBar","Header","HeaderBar_Button","HeaderBar_templateObject","HeaderBar_templateObject2","LoggedIn","setExistingGoals","setSelected","oldCompletedDays","setOldCompletedDays","_useState7","_useState8","newCompletedDays","setNewCompletedDays","_handleDayCompleted","updatedCompletedDays","batchUpdateCompletedDays","_batchUpdateCompletedDays","JSON","parse","stringify","data","datesCompletedMap","LoggedIn_Container","CalendarContainer","curDate","LoggedIn_templateObject","LoggedIn_templateObject2","App","_useAuth","AppContainer","App_templateObject","Boolean","location","hostname","match","ReactDOM","render","appReducer","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9a1935ae.chunk.js","sourcesContent":["import React, { createContext, useReducer, useContext } from 'react';\n\nconst Context = createContext()\n\nexport function AppStateProvider({ reducer, initialState = {}, children }) {\n    const value = useReducer(reducer, initialState)\n    return <Context.Provider value={value} children={children} />\n}\n\nexport function useAppState() {\n    return useContext(Context);\n}","import firebase from \"firebase\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\n\nconst config = {\n  apiKey: \"AIzaSyCvxmJXWdOQsBw6QkcH7MTghBk8YjBNnHo\",\n  authDomain: \"track-my-goals.firebaseapp.com\",\n  databaseURL: \"https://track-my-goals.firebaseio.com\",\n  projectId: \"track-my-goals\",\n  storageBucket: \"track-my-goals.appspot.com\",\n  messagingSenderId: \"1045953614271\"\n};\n\nfirebase.initializeApp(config);\n\nexport const db = firebase.firestore();\n\nexport const auth = () => firebase.auth();\n\n// export const mode = \"real\"\n\n// export default fire\n","import { db } from \"./fire\";\nimport { auth } from \"firebase\";\n\nexport async function deleteGoal(uid, goal) {\n  let existingGoal = db.collection(\"goals\");\n  existingGoal = existingGoal.where(\"goal\", \"==\", goal);\n  existingGoal = existingGoal.where(\"uid\", \"==\", uid);\n\n  existingGoal.get().then(snapshot => {\n    snapshot.docs.forEach(doc => {\n      doc.ref.delete();\n    });\n  });\n}\n\nexport async function createGoal(goalData) {\n  return db.collection(\"goals\").add({\n    uid: goalData.uid,\n    goal: goalData.goal,\n    datesCompleted: []\n  });\n}\n\nexport async function addCompletedDay(uid, goal, date) {\n  console.log(\"addCompletedDay\", date);\n\n  return db.collection(`daysCompleted-${uid}`).add({\n    goal: goal,\n    date: date\n  });\n}\n\nexport async function removeCompletedDay(uid, goal, date) {\n  let dayCompleted = db.collection(`daysCompleted-${uid}`);\n  dayCompleted = dayCompleted.where(\"goal\", \"==\", goal);\n  dayCompleted = dayCompleted.where(\"date\", \"==\", date);\n\n  dayCompleted.get().then(snapshot => {\n    snapshot.docs.forEach(doc => {\n      doc.ref.delete();\n    });\n  });\n}\n\nexport async function signup({ email, password }) {\n  try {\n    const { user } = await auth().createUserWithEmailAndPassword(\n      email,\n      password\n    );\n\n    await db.doc(`users/${user.uid}`).set({\n      uid: user.uid\n    });\n  } catch (e) {\n    throw e;\n  }\n}\n\nexport function login(email, password) {\n  return auth().signInWithEmailAndPassword(email, password);\n}\n\nexport function logout() {\n  return auth().signOut();\n}\n\nexport function onAuthStateChanged(callback) {\n  auth().onAuthStateChanged(callback);\n}\n","import { retrieveSelectedDays } from \"./utils\";\n\nconst initialState = {\n  authAttempted: false,\n  auth: null,\n  user: null,\n  goals: [\"Workout\", \"Meditate\", \"Eat Healthy\"],\n  selectedGoal: 0,\n\n  // This is the new state I'm adding so that the calendar can dynamically load\n  // the selected days for each component\n\n  // Should probably just load this once on the first page load. And store it\n  // all in local memory.\n\n  // MAKE THIS A MAP OF GOALS TO DAYS SELECTED;\n  selectedDays: {\n    workout: []\n  }\n};\n\nconst appStateReducer = (state, action) => {\n  switch (action.type) {\n    case \"AUTH_CHANGE\": {\n      return { ...state, auth: action.auth, authAttempted: true };\n    }\n    case \"LOAD_USER\": {\n      return { ...state, user: action.user };\n    }\n\n    // TODO -- SEE IF THESE ARE BEING USED AT ALL.\n    // case \"GOALS_LOADED\": {\n    //   console.log(\"LOADING GOALS: \", action.goals, action.goals[0]);\n    //   return { ...state };\n    // }\n    // case \"GOAL_ADDED\": {\n    //   // IDK IF THIS IS RIGHT. LET'S SEE\n    //   return { ...state, goals: [...state.goals, action.newGoal] };\n    // }\n    // case \"SELECTED_DAYS_LOADED\": {\n    //   return { ...state, selectedDays: action.selectedDays };\n    // }\n    // case \"DAY_SELECTED\": {\n    //   // HAVEN'T TESTED THIS LOGIC. PROBABLY NEEDS WORK.\n    //   const updatedDays = state.selectedDays;\n\n    //   // Make this a set instead of a list. Don't want duplicate days.\n    //   updatedDays[action.goal] = [\n    //     ...updatedDays[action.goal],\n    //     action.selectedDay\n    //   ];\n    //   return { ...state, selectedDays: updatedDays };\n    // }\n\n    default:\n      return state;\n  }\n};\n\nexport { initialState };\nexport default appStateReducer;\n","import React from \"react\";\n\nexport default function TabsButton({ children }) {\n  return (\n    <button className=\"TabsButton icon_button cta\" type=\"submit\">\n      {children}\n    </button>\n  );\n}\n","import React, { Fragment, useState } from \"react\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport TabsButton from \"./TabsButton\";\nimport { FaDumbbell } from \"react-icons/fa\";\nimport { signup } from \"./utils\";\n\nfunction TextInput({ id, label, type = \"text\" }) {\n  return (\n    <Fragment>\n      <VisuallyHidden>\n        <label htmlFor={id}>{label}</label>\n      </VisuallyHidden>\n      <input id={id} placeholder={label} type={type} required />\n    </Fragment>\n  );\n}\n\nexport default function SignupForm() {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleSignup = async event => {\n    event.preventDefault();\n    setLoading(true);\n    const [email, password] = event.target.elements;\n    try {\n      await signup({\n        email: email.value,\n        password: password.value\n      });\n    } catch (error) {\n      setLoading(false);\n      setError(error);\n    }\n  };\n\n  return (\n    <div>\n      {error && (\n        <div>\n          <p>Oops, there was an error logging you in.</p>\n          <p>\n            <i>{error.message}</i>\n          </p>\n        </div>\n      )}\n\n      <form onSubmit={handleSignup}>\n        <TextInput id=\"email\" label=\"Email\" />\n        <TextInput id=\"password\" label=\"Password\" />\n        <TabsButton>\n          <FaDumbbell />\n          <span>{loading ? \"Loading...\" : \"Sign Up\"}</span>\n        </TabsButton>\n      </form>\n    </div>\n  );\n}\n","import React, { useState, useRef } from \"react\";\nimport { login } from \"./utils\";\nimport VisuallyHidden from \"@reach/visually-hidden\";\nimport { FaSignInAlt } from \"react-icons/fa\";\nimport TabsButton from \"./TabsButton\";\n\nexport default function LoginForm() {\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const handleLogin = async event => {\n    event.preventDefault();\n    setLoading(true);\n    try {\n      await login(emailRef.current.value, passwordRef.current.value);\n    } catch (error) {\n      setLoading(false);\n      setError(error);\n    }\n  };\n\n  const handleShowPassword = event => {\n    setShowPassword(event.target.checked);\n  };\n\n  return (\n    <div>\n      {error && (\n        <div>\n          <p>Oops, there was an error logging you in.</p>\n          <p>\n            <i>{error.message}</i>\n          </p>\n        </div>\n      )}\n\n      <form onSubmit={handleLogin}>\n        <VisuallyHidden>\n          <label htmlFor=\"login:email\">Email:</label>\n        </VisuallyHidden>\n        <input\n          ref={emailRef}\n          id=\"login:email\"\n          className=\"inputField\"\n          placeholder=\"you@example.com\"\n          type=\"text\"\n        />\n\n        <VisuallyHidden>\n          <label htmlFor=\"login:password\">Password:</label>\n        </VisuallyHidden>\n        <input\n          ref={passwordRef}\n          id=\"login:password\"\n          type={showPassword ? \"text\" : \"password\"}\n          className=\"inputField\"\n          placeholder=\"Password\"\n        />\n        <div>\n          <label>\n            <input\n              className=\"passwordCheckbox\"\n              type=\"checkbox\"\n              onChange={handleShowPassword}\n              defaultChecked={showPassword}\n            />{\" \"}\n            show password\n          </label>\n        </div>\n\n        <TabsButton>\n          <FaSignInAlt />\n          <span>{loading ? \"Loading...\" : \"Login\"}</span>\n        </TabsButton>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Tabs, TabList, Tab, TabPanels, TabPanel } from \"@reach/tabs\";\nimport Signup from \"./Signup\";\nimport Login from \"./Login\";\n\nexport default function LoggedOut() {\n  return (\n    <div className=\"LoggedOut\">\n      <Tabs>\n        <TabList>\n          <Tab>Login</Tab>\n          <Tab>Sign Up</Tab>\n        </TabList>\n        <TabPanels>\n          <TabPanel>\n            <Login />\n          </TabPanel>\n          <TabPanel>\n            <Signup />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </div>\n  );\n}\n","import { useEffect } from \"react\";\nimport { onAuthStateChanged } from \"./utils\";\nimport { useAppState } from \"./app-state\";\n\nexport default function useAuth() {\n  const [{ authAttempted, auth }, dispatch] = useAppState();\n\n  useEffect(() => {\n    if (!authAttempted) {\n      return onAuthStateChanged(auth => {\n        if (auth) {\n          const { uid } = auth;\n          dispatch({\n            type: \"AUTH_CHANGE\",\n            auth: { uid }\n          });\n        } else {\n          dispatch({ type: \"AUTH_CHANGE\", auth: null });\n        }\n      });\n    }\n  }, [authAttempted, dispatch]);\n\n  return { authAttempted, auth };\n}\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { createGoal, deleteGoal } from \"./utils\";\nimport useAuth from \"./useAuth\";\n\nexport default function GoalsList({ existingGoals, selected, handleSelected }) {\n  const { auth } = useAuth();\n\n  // This is the goal that is currently typed into the new goal input.\n  const [newGoal, setNewGoal] = useState(\"\");\n\n  // The list of the existing goals.\n  const [goals, setGoals] = useState(existingGoals);\n\n  useEffect(() => {\n    setGoals(existingGoals);\n  }, [existingGoals]);\n\n  return (\n    <GoalContainer>\n      <AppTitle>Habit Tracker</AppTitle>\n      <InputContainer>\n        <GoalInput\n          type=\"text\"\n          placeholder=\"Enter your next habit\"\n          onChange={e => setNewGoal(e.target.value)}\n        />\n        <AddGoalButton\n          onClick={() => {\n            if (newGoal.length > 0 && !goals.includes(newGoal)) {\n              createGoal({\n                uid: auth.uid,\n                goal: newGoal\n              });\n\n              setNewGoal(\"\");\n              setGoals([newGoal, ...goals]);\n            }\n          }}\n        >\n          ADD\n        </AddGoalButton>\n      </InputContainer>\n      <ListContainer>\n        {goals\n          ? goals.map((goal, idx) => {\n              return (\n                <ListRow\n                  style={goals[idx + 1] ? null : { borderWidth: \"5px\" }} // Check if it's the last goal in the list.\n                  selected={goal === selected}\n                  onClick={() => {\n                    // setSelected(goal);\n                    handleSelected(goal);\n                  }}\n                >\n                  {\" \"}\n                  {goal}\n                  {/* // TODO -- IMPORT ICONS, INCLUDING TRASH ICON FOR DELETING */}\n                  <DeleteButton\n                    onClick={() => {\n                      deleteGoal(auth.uid, goal);\n                      setGoals(goals.filter(g => g !== goal));\n                    }}\n                  >\n                    {\" \"}\n                    X{\" \"}\n                  </DeleteButton>\n                </ListRow>\n              );\n            })\n          : null}\n      </ListContainer>\n    </GoalContainer>\n  );\n}\n\nconst GoalContainer = styled.div`\n  // display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-left: 1.5rem;\n  padding-right: 1.5rem;\n  background-color: #0d160a;\n  font-family: Helvetica;\n  position: absolute;\n  height: 100%;\n`;\n\nconst AppTitle = styled.div`\n  color: white;\n  font-size: 2rem;\n  margin-top: 1rem;\n  margin-bottom: 4rem;\n  padding-right: 10rem;\n  font-family: Helvetica;\n`;\n\nconst InputContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n`;\n\nconst ListContainer = styled.div`\n  height: 27rem;\n  overflow-y: scroll;\n`;\n\nconst AddGoalButton = styled.button`\n  background-color: #227c20;\n  display: inline-block;\n  color: #faf8f8;\n  font-size: 1em;\n  padding: 1rem;\n  border: none;\n  font-weight: bold;\n  border-radius: 0 0.3rem 0.3rem 0;\n`;\n\nconst GoalInput = styled.input`\n  height: 3rem;\n  width: 16rem;\n  color: black;\n  background: #d8d8d8;\n  border: none;\n  font-size: 1em;\n\n  padding-left: 0.5rem;\n  border-radius: 0.3rem 0 0 0.3rem;\n`;\n\nconst DeleteButton = styled.button`\n  background-color: rgba(0, 0, 0, 0);\n  border: none;\n`;\n\ninterface ListRowProps {\n  selected: boolean;\n}\n\nconst ListRow = styled.div<ListRowProps>`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between\n  vertical-align: middle;\n  line-height: 2.5rem;\n  height: 2.5rem;\n  width: 19rem;\n  border-radius: 0.3rem;\n  margin-top: 2rem;\n  background-color: ${props => (props.selected ? \"#227c20\" : \"#D8D8D8\")};\n  color: ${props => (props.selected ? \"#D8D8D8\" : \"black\")};\n  padding-left: 0.5rem;\n  margin-left: 1.2rem;\n  font-family: \"Helvetica\", \"Arial\", sans-serif;\n\n  &:hover {\n    background-color: ${props => (props.selected ? \"#227c20\" : \"#8BCC91\")};\n  }\n`;\n\nconst VerticalLine = styled.div`\n  border-left: thick solid #ff0000;\n`;\n\n// LOAD THE EXISTING GOALS INTO STATE.\n// useEffect(() => {\n//   console.log(\"FETCHING GOALS\");\n\n//   fetchGoals();\n\n//   // const fetchGoals = db\n//   //   .collection(\"goals\")\n//   //   .where(\"uid\", \"==\", auth.uid)\n//   //   .get()\n//   //   .then(snapshot => {\n//   //     const existingGoals = [];\n//   //     snapshot.docs.forEach(doc => {\n//   //       existingGoals.push(doc.data().goal);\n//   //     });\n\n//   //     setSelected(existingGoals[0]);\n//   //     setGoals(existingGoals);\n//   //   });\n\n//   // if (typeof fetchGoals === \"function\") {\n//   //   return () => fetchGoals();\n//   // }\n// }, []);\n\n// function fetchGoals() {\n//   db.collection(\"goals\")\n//     .where(\"uid\", \"==\", auth.uid)\n//     .get()\n//     .then(snapshot => {\n//       const existingGoals = [];\n//       snapshot.docs.forEach(doc => {\n//         existingGoals.push(doc.data().goal);\n//       });\n\n//       setSelected(existingGoals[0]);\n//       setGoals(existingGoals);\n//     });\n// }\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { removePropertiesDeep } from \"@babel/types\";\n\n// None of the props changed, so it didn't re-render\n\nexport default function Day({\n  completedDays,\n  curGoal,\n  day,\n  month,\n  year,\n  handleDayCompleted,\n  handleDayRemoved,\n  isCompleted,\n  disabled\n}) {\n  const [completed, setCompleted] = useState(isCompleted);\n\n  useEffect(() => {\n    setCompleted(isCompleted);\n  }, [curGoal]);\n\n  // useEffect(() => {\n  //   if (month && day && year) {\n  //     const date =\n  //       month.toString().padStart(2, \"0\") +\n  //       \"-\" +\n  //       day.toString().padStart(2, \"0\") +\n  //       \"-\" +\n  //       year.toString();\n\n  //     if (date == \"06-01-2019\") {\n  //       console.log(\"MOUNTED\");\n  //     }\n  //   }\n  // }, []);\n\n  useEffect(() => {\n    setCompleted(false);\n    setCompleted(isCompleted);\n  }, [isCompleted]);\n\n  // useEffect(() => {\n  //   if (completed && !isCompleted) {\n  //     setCompleted(false);\n  //   }\n  // });\n\n  // useEffect(() => {\n  //   if (month && day && year) {\n  //     const date =\n  //       month.toString().padStart(2, \"0\") +\n  //       \"-\" +\n  //       day.toString().padStart(2, \"0\") +\n  //       \"-\" +\n  //       year.toString();\n\n  //     if (date == \"06-01-2019\") {\n  //       console.log(\"RE-RENDER\", isCompleted, completed, completedDays);\n  //     }\n  //   }\n  // });\n\n  return (\n    <Button\n      completed={completed}\n      disabled={disabled}\n      onClick={() => {\n        if (!disabled) {\n          setCompleted(!completed);\n\n          const date =\n            month.toString().padStart(2, \"0\") +\n            \"-\" +\n            day.toString().padStart(2, \"0\") +\n            \"-\" +\n            year.toString();\n\n          // Either store or remove the day in the firstore.\n          completed ? handleDayRemoved(date) : handleDayCompleted(date);\n          // completed\n          //   ? addCompletedDay(auth.uid, curGoal, date)\n          //   : removeCompletedDay(auth.uid, curGoal, date);\n        }\n      }}\n    >\n      {disabled ? \"0\" : day}\n    </Button>\n  );\n}\n\ninterface ButtonProps {\n  completed: boolean;\n  disabled: boolean;\n}\n\nconst Button = styled.button<ButtonProps>`\n  display: inline-block;\n  height: 6rem;\n  width: 6rem;\n  -webkit-text-fill-color: ${props =>\n    props.disabled ? \"transparent\" : \"none\"};\n  color: ${props => (props.completed ? \"white\" : \"black\")};\n  font-size: 1em;\n  margin: 0.4375rem;\n  border: ${props =>\n    props.disabled ? \"2px solid #f1f1f1;\" : \"2px solid #5cc7ff\"} \n  border-radius: 3px;\n  background-color: ${props =>\n    props.disabled ? \"#f1f1f1\" : props.completed ? \"#99E897\" : \"#D8D8D8\"};\n  text-align: right;\n\n  &:hover {\n    background-color: ${props =>\n      props.disabled ? \"#f1f1f1\" : props.completed ? \"#227c20\" : \"#c2c2c2\"};\n  }\n\n  // old green color = #99E897\n`;\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport Day from \"./Day\";\nimport useAuth from \"./useAuth\";\n\nfunction getWindowDimensions() {\n  const { innerWidth: width, innerHeight: height } = window;\n  return {\n    width,\n    height\n  };\n}\n\n/**\n * NOTES -- Re-renders on every goal selection\n */\n\nexport default function Calendar({\n  curGoal,\n  completedDaysMap,\n  handleDayCompleted,\n  handleDayRemoved\n}) {\n  const { auth } = useAuth();\n  const [windowDimensions, setWindowDimensions] = useState(\n    getWindowDimensions()\n  );\n\n  // Mapping of each goal to the days that are completed (selected).\n  const [completedDays, setCompletedDays] = useState({});\n\n  const [curMonth, setCurMonth] = useState(null);\n\n  useEffect(() => {\n    console.log(\"calendar re-render\");\n  });\n\n  // Load the current month onto the screen.\n  useEffect(() => {\n    const today = new Date();\n    setCurMonth(today.getMonth() + 1);\n  }, []);\n\n  // MIGHT BE BAD DESIGN -- THIS SHOULD ONLY REALLY SET OUR LOCAL STATE ONCE.\n  useEffect(() => {\n    setCompletedDays(completedDaysMap);\n  }, [completedDaysMap]);\n\n  const monthDays = {\n    \"01\": 31,\n    \"02\": 28,\n    \"03\": 31,\n    \"04\": 30,\n    \"05\": 31,\n    \"06\": 30,\n    \"07\": 31,\n    \"08\": 31,\n    \"09\": 30,\n    \"10\": 31,\n    \"11\": 30,\n    \"12\": 31\n  };\n\n  const monthName = {\n    1: \"Jan\",\n    2: \"Feb\",\n    3: \"mar\",\n    4: \"Apr\",\n    5: \"May\",\n    6: \"Jun\",\n    7: \"Jul\",\n    8: \"Aug\",\n    9: \"Sept\",\n    10: \"Oct\",\n    11: \"Nov\",\n    12: \"Dec\"\n  };\n\n  // TODO -- ALWAYS RENDER 5 ROWS OF 7 DAYS. USE THE GETDAY() FUNCTION TO START\n  // EACH MONTH ON THE DAY THAT IT ACTUALLY BEGINS.\n\n  function getMonth(month, completedDays) {\n    const myMonth = [[]];\n    let dayOfWeek = 1;\n    let week = [];\n\n    // Dynamically adjust the number of rows in the calendar as the window resizes.\n    // const daysPerRow = Math.floor(windowDimensions.width / 180);\n    const daysPerRow = 7;\n\n    let firstOfMonth: any = month.toString().padStart(2, \"0\") + \"-01-2019\";\n    firstOfMonth = new Date(firstOfMonth).getDay();\n\n    // Add in blank days until the first day of the month.\n    for (let unusedDay = 0; unusedDay < firstOfMonth; unusedDay++) {\n      week.push(\n        <Day\n          completedDays={null}\n          day={null}\n          month={null}\n          year={null}\n          handleDayCompleted={null}\n          handleDayRemoved={null}\n          isCompleted={false}\n          curGoal={curGoal}\n          disabled={true}\n        />\n      );\n    }\n\n    dayOfWeek = firstOfMonth + 1;\n\n    // USING 35 SO THAT WE GET 5 WEEKS.\n    for (let i = 1; i <= monthDays[month]; i++) {\n      const date =\n        month.toString().padStart(2, \"0\") +\n        \"-\" +\n        i\n          .toString()\n          .toString()\n          .padStart(2, \"0\") +\n        \"-\" +\n        \"2019\";\n\n      if (dayOfWeek === daysPerRow + 1) {\n        myMonth.push(week);\n        dayOfWeek = 1;\n        week = [];\n      }\n\n      week.push(\n        <Day\n          completedDays={completedDays[curGoal]}\n          curGoal={curGoal}\n          day={i}\n          month={parseInt(month)}\n          year={2019}\n          handleDayCompleted={handleDayCompleted}\n          handleDayRemoved={handleDayRemoved}\n          isCompleted={\n            completedDays[curGoal]\n              ? completedDays[curGoal].indexOf(date) > -1\n              : false\n          }\n          disabled={false}\n        />\n      );\n      dayOfWeek += 1;\n    }\n\n    // fill out the last row with empty days\n    for (let unusedDay = 0; unusedDay < 8 - dayOfWeek; unusedDay++) {\n      week.push(\n        <Day\n          completedDays={null}\n          day={null}\n          month={null}\n          year={null}\n          handleDayCompleted={null}\n          handleDayRemoved={null}\n          isCompleted={false}\n          curGoal={curGoal}\n          disabled={true}\n        />\n      );\n    }\n\n    myMonth.push(week);\n    week = [];\n\n    console.log(\"LENGTH: \", myMonth.length);\n\n    if (myMonth.length === 6) {\n      for (let unusedDay = 0; unusedDay < 7; unusedDay++) {\n        week.push(\n          <Day\n            completedDays={null}\n            day={null}\n            month={null}\n            year={null}\n            handleDayCompleted={null}\n            handleDayRemoved={null}\n            isCompleted={false}\n            curGoal={curGoal}\n            disabled={true}\n          />\n        );\n      }\n\n      myMonth.push(week);\n    }\n\n    return myMonth;\n  }\n\n  function getYear(completedDays) {\n    const calendarYear = {};\n    for (let i = 1; i <= 12; i++) {\n      let monthNum = i.toString();\n      monthNum = monthNum.length === 1 ? \"0\" + monthNum : monthNum;\n\n      const month = getMonth(monthNum, completedDays);\n      calendarYear[i] = month;\n    }\n    return calendarYear;\n  }\n\n  const calendarYear = getYear(completedDays);\n\n  return (\n    <div>\n      <Container>\n        {/* // TODO add a row with the days of the week */}\n\n        <DaysOfWeek>\n          <div>SUN</div>\n          <div>MON</div>\n          <div>TUE</div>\n          <div>WED</div>\n          <div>THU</div>\n          <div>FRI</div>\n          <div>SAT</div>\n        </DaysOfWeek>\n\n        {calendarYear[curMonth]\n          ? calendarYear[curMonth].map(week => {\n              return <div>{week}</div>;\n            })\n          : null}\n      </Container>\n      <MonthInfoContainer>\n        <PrevMonth\n          onClick={() => {\n            setCurMonth(curMonth !== 1 ? curMonth - 1 : curMonth);\n          }}\n        />\n        <Month>{monthName[curMonth] + \" 2019\"}</Month>\n        <NextMonth\n          onClick={() => {\n            setCurMonth(curMonth !== 12 ? curMonth + 1 : curMonth);\n          }}\n        />\n      </MonthInfoContainer>\n    </div>\n  );\n}\n\nconst DaysOfWeek = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  width: 742px;\n`;\n\nconst Month = styled.div`\n  font-size: 3rem;\n  color: #0d160a;\n`;\n\nconst NextMonth = styled.button`\n  margin-left: 2rem;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 1.5rem 0 1.5rem 3rem;\n  border-color: transparent transparent transparent #0d160a;\n`;\n\nconst PrevMonth = styled.button`\n  margin-right: 2rem;\n  width: 0;\n  height: 0;\n  border-style: solid;\n  border-width: 1.5rem 3rem 1.5rem 0;\n  border-color: transparent #0d160a transparent transparent;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  // margin-left: 30rem;\n  justify-content: center;\n  margin-left: 22rem;\n`;\n\nconst MonthInfoContainer = styled.div`\n  display: flex;\n  flex-direction: row;\n  margin-left: 1em;\n  justify-content: center;\n  margin-left: 22rem;\n`;\n\n// LOAD THE COMPLETED DAYS INTO STATE.\n// useEffect(() => {\n//   console.log(\"LOADING COMPLETED DAYS\");\n\n//   const fetchCompletedDays = db\n//     .collection(`daysCompleted-${auth.uid}`)\n//     .get()\n//     .then(snapshot => {\n//       const datesCompleted = [];\n\n//       snapshot.docs.forEach(doc => {\n//         const goal = doc.data().goal;\n//         const date = doc.data().date;\n//         datesCompleted.push({ goal: goal, date: date });\n//       });\n\n//       const datesCompletedMap = {};\n//       datesCompleted.forEach(data => {\n//         if (data.goal in datesCompletedMap) {\n//           datesCompletedMap[data.goal].push(data.date);\n//         } else {\n//           datesCompletedMap[data.goal] = [data.date];\n//         }\n//       });\n//       setCompletedDays(datesCompletedMap);\n//     });\n\n//   if (typeof fetchCompletedDays === \"function\") {\n//     return () => fetchCompletedDays();\n//   }\n// }, []);\n\n// async function handleDayCompleted(date) {\n//   // addCompletedDay(auth.uid, curGoal, date);\n\n//   console.log(\"handleDayCompleted before: \", completedDays[curGoal]);\n\n//   const updatedCompletedDays = completedDays;\n//   updatedCompletedDays[curGoal] = completedDays[curGoal]\n//     ? [...completedDays[curGoal], date]\n//     : [date];\n\n//   await setCompletedDays(updatedCompletedDays);\n\n//   console.log(\"handleDayCompleted after: \", completedDays[curGoal]);\n// }\n\n// function handleDayRemoved(date) {\n//   // removeCompletedDay(auth.uid, curGoal, date);\n\n//   console.log(\n//     \"Removing day: \",\n//     curGoal,\n//     completedDays,\n//     completedDays[curGoal]\n//   );\n\n//   const updatedCompletedDays = completedDays;\n//   updatedCompletedDays[curGoal] = updatedCompletedDays[curGoal].filter(\n//     curDate => curDate !== date\n//   );\n\n//   setCompletedDays(updatedCompletedDays);\n// }\n\n// if (month == \"06\") {\n//   console.log(\n//     \"CREATING DAY\",\n//     date,\n//     completedDays[curGoal]\n//       ? completedDays[curGoal].indexOf(date) > -1\n//       : false\n//   );\n// }\n\n// useEffect(() => {\n//   // setWindowDimensions(getWindowDimensions());\n//   // console.log(\"dimensions: \", windowDimensions);\n\n//   console.log(\"completedDays: \", completedDays);\n//   console.log(\n//     \"Completed days for cur goal: \",\n//     curGoal,\n//     completedDays[curGoal]\n//   );\n// });\n","import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { logout } from \"./utils\";\n\nexport default function HeaderBar() {\n  return (\n    <Header>\n      <Button onClick={logout}>Logout</Button>\n    </Header>\n  );\n}\n\nconst Header = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: flex-end;\n  height: 70px;\n  background-color: #d8d8d8;\n  margin-bottom: 1rem;\n`;\n\nconst Button = styled.button`\n  display: inline-block;\n\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border: 2px solid;\n  border-radius: 3px;\n  display: inline-block;\n  background-color: #cbc9c9;\n  border-radius: 0.3rem;\n\n  &:hover {\n    background-color: #bcb9b9;\n  }\n`;\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport useAuth from \"./useAuth\";\nimport GoalsList from \"./GoalList\";\nimport Calendar from \"./Calendar\";\nimport { db } from \"./fire\";\nimport HeaderBar from \"./HeaderBar\";\nimport { addCompletedDay, removeCompletedDay } from \"./utils\";\n\n/**\n * When the goal is changed by the goalList component, send\n * up the dates selected for that goal. Compare it against the dates selected\n * for that goal in the existingGoals local state to see what's been\n * added / removed. Make bulk updates to the database.\n */\n\nexport default function LoggedIn() {\n  const { auth } = useAuth();\n\n  // The list of the existing goals.\n  const [existingGoals, setExistingGoals] = useState([]);\n\n  // The currently selected goal.\n  const [selected, setSelected] = useState(\"asdfasd\");\n\n  // Mapping of each goal to the days that are completed (selected).\n  // The old state of the mapping at the time of the app being loaded\n  const [oldCompletedDays, setOldCompletedDays] = useState({});\n\n  // Mapping of each goal to the days that are completed (selected).\n  // the new state of the mapping as the user makes new selections.\n  const [newCompletedDays, setNewCompletedDays] = useState({});\n\n  // Load goals and completed days on component mount (only once).\n  useEffect(() => {\n    fetchGoals();\n    fetchCompletedDays();\n  }, []);\n\n  // Component will unmount. Add the selected days for last goal.\n  useEffect(() => {\n    return () => {\n      batchUpdateCompletedDays(selected);\n    };\n  }, []);\n\n  function fetchGoals() {\n    db.collection(\"goals\")\n      .where(\"uid\", \"==\", auth.uid)\n      .get()\n      .then(snapshot => {\n        const existingGoals: any[] = [];\n        snapshot.docs.forEach(doc => {\n          existingGoals.push(doc.data().goal);\n        });\n\n        setSelected(existingGoals[0]);\n        setExistingGoals(existingGoals);\n      });\n  }\n\n  function fetchCompletedDays() {\n    console.log(\"fetchCompletedDays\");\n\n    db.collection(`daysCompleted-${auth.uid}`)\n      .get()\n      .then(snapshot => {\n        const datesCompleted: any[] = [];\n\n        snapshot.docs.forEach(doc => {\n          const goal = doc.data().goal;\n          const date = doc.data().date;\n          datesCompleted.push({ goal: goal, date: date });\n        });\n\n        const datesCompletedMap = {};\n        datesCompleted.forEach(data => {\n          if (data.goal in datesCompletedMap) {\n            datesCompletedMap[data.goal].push(data.date);\n          } else {\n            datesCompletedMap[data.goal] = [data.date];\n          }\n        });\n        setOldCompletedDays(JSON.parse(JSON.stringify(datesCompletedMap)));\n        setNewCompletedDays(datesCompletedMap);\n      });\n  }\n\n  async function handleDayCompleted(date: string) {\n    const updatedCompletedDays = newCompletedDays;\n    updatedCompletedDays[selected] = newCompletedDays[selected]\n      ? [...newCompletedDays[selected], date]\n      : [date];\n    await setNewCompletedDays(updatedCompletedDays);\n  }\n\n  function handleDayRemoved(date: string) {\n    const updatedCompletedDays = newCompletedDays;\n    updatedCompletedDays[selected] = updatedCompletedDays[selected].filter(\n      curDate => curDate !== date\n    );\n    setNewCompletedDays(updatedCompletedDays);\n  }\n\n  function updateSelected(goal: string) {\n    console.log(\"updateSelected\");\n\n    batchUpdateCompletedDays(selected);\n    setSelected(goal);\n  }\n\n  /**\n   * When the user switches between goals, batch update all of their\n   * selections into the database\n   */\n  async function batchUpdateCompletedDays(goal: string) {\n    console.log(\"batchUpdateCompletedDays\");\n    console.log(oldCompletedDays[goal]);\n    console.log(newCompletedDays[goal]);\n\n    if (newCompletedDays[goal]) {\n      if (oldCompletedDays[goal]) {\n        // Add new Days.\n        newCompletedDays[goal].forEach(date => {\n          if (!oldCompletedDays[goal].includes(date)) {\n            addCompletedDay(auth.uid, goal, date);\n          }\n        });\n\n        // Remove de-selected days.\n        oldCompletedDays[goal].forEach(date => {\n          if (!newCompletedDays[goal].includes(date)) {\n            removeCompletedDay(auth.uid, goal, date);\n          }\n        });\n      } else {\n        // This is a newly created goal.\n        newCompletedDays[goal].forEach(date => {\n          addCompletedDay(auth.uid, goal, date);\n        });\n\n        // Add this new goal to the 'oldCompletedDays' mapping.\n        setOldCompletedDays(JSON.parse(JSON.stringify(newCompletedDays)));\n      }\n    }\n  }\n\n  return (\n    <Container>\n      <GoalsList\n        existingGoals={existingGoals}\n        selected={selected}\n        handleSelected={updateSelected}\n      />\n      <CalendarContainer>\n        <HeaderBar />\n        <Calendar\n          curGoal={selected}\n          completedDaysMap={newCompletedDays}\n          handleDayCompleted={handleDayCompleted}\n          handleDayRemoved={handleDayRemoved}\n        />\n      </CalendarContainer>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  height: 100%;\n`;\n\nconst CalendarContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n  padding: 0;\n  width: 100%;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { AppStateProvider } from \"./app-state\";\nimport appReducer, { initialState } from \"./appReducer\";\nimport LoggedOut from \"./LoggedOut\";\nimport LoggedIn from \"./LoggedIn\";\n\nimport useAuth from \"./useAuth\";\n\nfunction App() {\n  const { authAttempted, auth } = useAuth();\n  if (!authAttempted) return null;\n\n  return (\n    <div>\n      {auth ? (\n        <AppContainer>\n          <LoggedIn />\n        </AppContainer>\n      ) : (\n        <LoggedOut />\n      )}\n    </div>\n  );\n}\n\nconst AppContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nexport default () => (\n  <AppStateProvider reducer={appReducer} initialState={initialState}>\n    <App />\n  </AppStateProvider>\n);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"./App.css\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}